---
title: "AWS VPC架構介紹"
date: 2024-12-21 22:49:00
categories: ["AWS", "AWS教學30天上手"]
tags: ["AWS", "AWS教學30天上手"]
permalink: /posts/aws-vpcjia-gou-jie-shao/
---
**1.
VPC** **和子網（Subnet）**

首先，**VPC**（虛擬私有雲）是 AWS 中的虛擬網路環境，您可以在其中部署資源，如
**EC2 實例**。VPC 中的 IP 範圍可以根據需求劃分為多個 **子網**，每個子網通常位於一個特定的 **可用區（AZ）**。這樣的配置不僅提高了靈活性，還能確保高可用性，因為即便某個 AZ 出現故障，其他 AZ 仍然能正常運行。

**2.****安全群組（SG）與彈性網路介面（ENI）**

每個 **EC2 實例** 都會與一個或多個 **彈性網路介面（ENI）**
關聯，並且每個 ENI 都可以關聯到一個或多個 **安全群組（SG）**。這些安全群組規則像是防火牆，控制著流入和流出的流量。**ENI** 負責連接 EC2 實例和 VPC 的網路，而安全群組則根據需要管理網路流量的規則。

**3.****路由表（Route Table）和 Internet Gateway**

每個子網都有關聯的 **路由表**，用來控制流量的路由方向。對於位於公共子網中的 EC2 實例，您需要將 **Internet Gateway（IGW）** 附加到 VPC，並配置路由表，使流量能夠從 VPC 流向互聯網。這樣可以讓 EC2 實例向外界發送請求，並從外界接收回應。

**4.****高可用性架構（High Availability）**

為了提高架構的可靠性，應將關鍵資源分散到多個
**可用區（AZ）** 內。在 VPC 中，您可以將 EC2 實例部署在不同的子網中，並使用 **Auto Scaling** 和 **Elastic Load Balancer（ELB）** 來自動調整流量並實現高可用性。這樣即便某個可用區出現故障，流量仍然能夠轉向其他可用區的 EC2 實例，確保業務不中斷。

**5.
NAT Gateway / NAT** **實例**

若您有位於 **私有子網**
中的 EC2 實例，這些實例無法直接訪問互聯網。這時，您可以設置 **NAT
Gateway** 或 **NAT 實例**，讓私有子網的 EC2 實例可以訪問外部服務，如下載更新或訪問外部 API。這樣的配置能夠保障私有子網內的 EC2 實例安全，同時仍然能夠利用公共互聯網資源。

**6.
VPC Peering** **和 Transit Gateway**

在 AWS 中，您可能需要讓多個 VPC 之間進行互通。此時，您可以使用 **VPC Peering** 或 **Transit Gateway**。**VPC Peering** 使兩個 VPC 之間可以直接通信，而 **Transit Gateway** 則可以將多個 VPC 集中管理，實現更靈活的跨 VPC 通訊方式，適合更大規模的架構。

**7.
VPN** **連線與 Direct Connect**

如果您的本地資料中心需要與 AWS VPC 進行連接，您可以使用 **VPN 連線** 或 **AWS Direct Connect**。**VPN 連線** 通常用於加密的網路連接，適合中小型的需求。而
**Direct Connect** 則提供一條專用的物理連接，適合對連接性能和穩定性有更高要求的企業使用。

**8.
VPC Flow Logs**

為了提升網路監控和故障排除的能力，您可以啟用
**VPC Flow Logs**。這能夠記錄流經 VPC 各網路介面的網路流量，幫助您監控流量走向、分析性能，並識別潛在的安全問題。

**總結**

這些 AWS VPC 的核心概念和組件是互相配合的，能讓我們建立一個既安全又有彈性的網路架構。透過設定路由表、Internet Gateway、NAT Gateway 等，可以輕鬆設置公共子網和私有子網，還能根據需求選擇像是 VPC Peering 或 VPN 等進階功能來擴展網路。這樣一來，不僅能保證高可用性，還能確保更強的安全性和擴展性。

 